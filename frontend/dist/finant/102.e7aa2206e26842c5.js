"use strict";(self.webpackChunkfinant=self.webpackChunkfinant||[]).push([[102],{8102:(w,g,a)=>{a.r(g),a.d(g,{CategoriaDespesaModule:()=>P});var p=a(5718),m=a(0),c=a(3075),u=a(4635),f=a(8712),v=a(7854),_=a(5226),Z=a.n(_),C=a(1742),h=a.t(C,2),e=a(5e3),T=a(7729),d=a(9808),x=a(235);const A=["closeModalIcon"];function b(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"div",39),e.TgZ(1,"i",40),e.NdJ("click",function(){const s=e.CHM(o).$implicit;return e.oxw(2).removerCategoriaFilha(s.value)}),e.qZA(),e._UZ(2,"i"),e._uU(3),e.qZA()}if(2&i){const o=n.$implicit;e.xp6(2),e.Gre("",o.value.icon," iconList"),e.xp6(1),e.hij(" ",o.value.no_categoria_despesa," ")}}function M(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"p",2),e.TgZ(2,"i",33),e.NdJ("click",function(){const s=e.CHM(o).$implicit;return e.oxw().removerCategoriaFilha(s.value)}),e.qZA(),e._UZ(3,"i",34),e._uU(4),e.qZA(),e.TgZ(5,"div",35),e.TgZ(6,"div",36),e.NdJ("click",function(){const s=e.CHM(o).$implicit;return e.oxw().novaFilha(s.value)}),e._UZ(7,"i",37),e.qZA(),e.qZA(),e.YNc(8,b,4,4,"div",38),e.ALo(9,"keyvalue"),e.qZA()}if(2&i){const o=n.$implicit;e.xp6(3),e.Gre("",o.value.icon," iconList"),e.xp6(1),e.hij(" ",o.value.no_categoria_despesa," "),e.xp6(4),e.Q6J("ngForOf",e.lcZ(9,5,o.value.children))}}function q(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(){const s=e.CHM(o).$implicit;return e.oxw(2).menuIcon(s)}),e._UZ(1,"br"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()}if(2&i){const o=n.$implicit;e.xp6(3),e.Oqu(null==o?null:o.label)}}function D(i,n){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,q,4,1,"div",41),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.fontawesome)}}function F(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){return e.CHM(o),e.oxw().escolherOutroGrupoIcone()}),e.TgZ(1,"span",19),e._uU(2),e.qZA(),e.qZA()}if(2&i){const o=e.oxw();e.xp6(2),e.hij("",null==o.fontawesomeIconesPorMenu?null:o.fontawesomeIconesPorMenu.label," \xd7")}}function O(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"div",44),e.TgZ(1,"i",45),e.NdJ("click",function(){const s=e.CHM(o).$implicit;return e.oxw().selectIcon(s)}),e.qZA(),e.qZA()}if(2&i){const o=n.$implicit;e.xp6(1),e.Gre("fa fa-",o," cursor-pointer")}}const I=[{path:"",component:(()=>{class i{constructor(o,t,r,s,l){this.categoriaDespesaService=o,this.formBuilder=t,this.notificationService=r,this.helper=s,this.breadcrumbService=l,this.loader=!0,this.categoriaSelecionada={},this.fontawesome=h,this.fontawesomeIconesPorMenu=[],this.iconeSelecionado=""}ngOnInit(){this.getCategoriaDespesas(),this.breadCrumb(),this.initializeFormEmpty()}breadCrumb(){this.breadcrumbService.chosenPagina([{no_rotina:"Categorias despesas",ds_url:"categoria",active:""},{no_rotina:"Inserir",ds_url:"mudar-texto",active:"active"}])}initializeFormEmpty(){this.form=this.formBuilder.group({id_categoria_despesa_pai:this.formBuilder.control(""),icon:this.formBuilder.control(""),no_categoria_despesa:this.formBuilder.control("",[c.kI.required])})}novaFilha(o){this.categoriaSelecionada=o,this.form.controls.id_categoria_despesa_pai.setValue(o.id_categoria_despesa),console.log(o)}save(o){this.categoriaDespesaService.save(o).subscribe(t=>{this.notificationService.notifySweet("Registro inserido!"),this.getCategoriaDespesas(),this.iconeSelecionado="",this.form.controls.icon.setValue(""),this.form.controls.no_categoria_receita.setValue("")})}savePai(o){delete o.id_categoria_despesa_pai,this.save(o)}removerCategoriaFilha(o){Z().fire({title:`Remover ${o.no_categoria_despesa}?`,icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, remover!"}).then(t=>{t.value&&this.categoriaDespesaService.inativar(o.id_categoria_despesa).subscribe(r=>{this.notificationService.notifySweet("Excluido!"),this.getCategoriaDespesas()})})}getCategoriaDespesas(){this.categoriaDespesaService.getCategoriaDespesas().subscribe(o=>{this.categoriaDespesas=o,this.loader=!1})}update(o){this.categoriaDespesaService.update(o,o.id)}menuIcon(o){this.fontawesomeIconesPorMenu=o}escolherOutroGrupoIcone(){this.fontawesomeIconesPorMenu=[]}selectIcon(o){this.form.controls.icon.setValue("fa fa-"+o),this.iconeSelecionado="fa fa-"+o,this.closeModalIcon.nativeElement.click()}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(f.p),e.Y36(c.qu),e.Y36(u.g),e.Y36(v.W),e.Y36(T.p))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-categoria-despesa"]],viewQuery:function(o,t){if(1&o&&e.Gf(A,5),2&o){let r;e.iGM(r=e.CRH())&&(t.closeModalIcon=r.first)}},decls:64,vars:18,consts:[[1,"row"],[1,"card","shadow","h-100","margin-15","padding-15"],[1,"catPai"],["novalidate","",3,"formGroup"],[1,"box-body"],[1,"form-group","is-empty","col-md-12"],["for",""],[1,"fa","fa-arrow-alt-square-left"],["formControlName","no_categoria_despesa","placeholder","",1,"form-control"],["data-toggle","modal","data-target","#modalIcones",1,"btn","btn-light"],[1,"modal-footer"],[1,"btn","btn-primary","text-white",3,"disabled","click"],["class","card shadow margin-15 padding-30 hover",4,"ngFor","ngForOf"],["id","filhoModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"padding-bottom-15","margin-top-15"],["errorMessage","Campo obrigat\xf3rio","label","Nome subcategoria"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["id","modalIcones","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content","modal-lg"],["closeModalIcon",""],["class","row",4,"ngIf"],[1,"row","margin-bottom-15"],["class","close w-100 cursor-pointer text-center",3,"click",4,"ngIf"],["class","padding-5",4,"ngFor","ngForOf"],[1,"card","shadow","margin-15","padding-30","hover"],[1,"fas","fa-minus-circle","iconeRemoverFilha",2,"font-size","0.7em",3,"click"],[2,"font-size","0.7em"],[1,"action"],["data-toggle","modal","data-target","#filhoModal",1,"item","itemAdd",3,"click"],[1,"fas","fa-plus"],["class","catFilhas hover","style","margin-left: 42px",4,"ngFor","ngForOf"],[1,"catFilhas","hover",2,"margin-left","42px"],[1,"fas","fa-minus-circle","iconeRemoverFilha",3,"click"],["style","margin: 0 auto","class","card cursor-pointer","style","padding: 1px; margin: 4px",3,"click",4,"ngFor","ngForOf"],[1,"card","cursor-pointer",2,"padding","1px","margin","4px",3,"click"],[1,"close","w-100","cursor-pointer","text-center",3,"click"],[1,"padding-5"],[2,"font-size","3em",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"label",6),e._uU(7,"Nova categoria "),e._UZ(8,"i",7),e.qZA(),e._UZ(9,"input",8),e.TgZ(10,"button",9),e._uU(11," ICONE "),e._UZ(12,"i"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return t.savePai(t.form.value)}),e._uU(15," Salvar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,M,10,7,"div",12),e.ALo(17,"keyvalue"),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"div",14),e.TgZ(20,"div",15),e.TgZ(21,"div",16),e.TgZ(22,"h5",17),e._uU(23),e.qZA(),e.TgZ(24,"button",18),e.TgZ(25,"span",19),e._uU(26,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",20),e.TgZ(28,"div",21),e.TgZ(29,"form",3),e.TgZ(30,"div",4),e.TgZ(31,"div",5),e.TgZ(32,"app-input-container",22),e._UZ(33,"input",8),e.qZA(),e.qZA(),e.TgZ(34,"button",9),e._uU(35," ICONE "),e._UZ(36,"i"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",10),e.TgZ(38,"button",23),e._uU(39," Cancelar "),e.qZA(),e.TgZ(40,"button",11),e.NdJ("click",function(){return t.save(t.form.value)}),e._uU(41," Salvar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",24),e.TgZ(43,"div",25),e.TgZ(44,"div",26),e.TgZ(45,"div",16),e.TgZ(46,"h5",17),e._uU(47,"ICONES"),e.qZA(),e.TgZ(48,"button",18,27),e.TgZ(50,"span",19),e._uU(51,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",20),e.TgZ(53,"div",21),e.YNc(54,D,2,1,"div",28),e.TgZ(55,"div",29),e.YNc(56,F,3,1,"a",30),e.qZA(),e.TgZ(57,"div",0),e.YNc(58,O,2,3,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",10),e.TgZ(60,"button",23),e._uU(61," Cancelar "),e.qZA(),e.TgZ(62,"button",11),e.NdJ("click",function(){return t.save(t.form.value)}),e._uU(63," Salvar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(9),e.Tol(t.iconeSelecionado),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.Q6J("ngForOf",e.lcZ(17,16,t.categoriaDespesas)),e.xp6(7),e.hij(" ",null==t.categoriaSelecionada?null:t.categoriaSelecionada.no_categoria_despesa," "),e.xp6(6),e.Q6J("formGroup",t.form),e.xp6(7),e.Tol(t.iconeSelecionado),e.xp6(4),e.Q6J("disabled",!t.form.valid),e.xp6(14),e.Q6J("ngIf",!(null!=t.fontawesomeIconesPorMenu&&t.fontawesomeIconesPorMenu.icons)),e.xp6(2),e.Q6J("ngIf",null==t.fontawesomeIconesPorMenu?null:t.fontawesomeIconesPorMenu.icons),e.xp6(2),e.Q6J("ngForOf",null==t.fontawesomeIconesPorMenu?null:t.fontawesomeIconesPorMenu.icons),e.xp6(4),e.Q6J("disabled",!t.form.valid))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,d.sg,x.a,d.O5],pipes:[d.Nd],styles:[".action[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;text-align:right;display:flex;flex-direction:row-reverse}.action[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-content:center;width:30px;height:30px;cursor:pointer}.action[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex:1;display:flex;align-self:center;align-items:center;justify-content:center}.itemRemove[_ngcontent-%COMP%]{border-radius:0 4px 0 0;color:#fff;background:#e74a3b}.itemAdd[_ngcontent-%COMP%]{border-radius:0 4px 0 0;color:#fff;color:#1ad274}.itemRemove[_ngcontent-%COMP%]:hover{color:#fff;background:#cf3021}.itemAdd[_ngcontent-%COMP%]:hover{color:#fff;background:#07c060}.catPai[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.catFilhas[_ngcontent-%COMP%]{font-size:1.3em}.iconeRemoverFilha[_ngcontent-%COMP%]{font-size:.8em;color:#e7e7e7;cursor:pointer;transition:.1s}.iconeRemoverFilha[_ngcontent-%COMP%]:hover{font-size:.85em;color:#f73b29;cursor:pointer}div.form-group.is-empty.col-md-12[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.6em;font-weight:700}.iconList[_ngcontent-%COMP%]{margin-left:5px}"]}),i})()}];let P=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.m,m.Bz.forChild(I)]]}),i})()}}]);