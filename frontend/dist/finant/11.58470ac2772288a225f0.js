(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"9odQ":function(o,e,t){"use strict";t.d(e,"a",(function(){return u}));var a=t("3Pt+"),i=t("fXoL"),r=t("ofXK");function n(o,e){if(1&o&&i.Nb(0,"label",5),2&o){var t=i.cc(2);i.Db("",t.getClass()," control-label"),i.lc("innerHtml","",t.labelInput()," <i class='fas fa-asterisk obrigatorio' ></i>",i.wc)}}function s(o,e){if(1&o&&(i.Qb(0),i.Ec(1,n,1,4,"label",4),i.Pb()),2&o){var t=i.cc();i.Ab(1),i.jc("ngIf",t.labelInput().length)}}function c(o,e){if(1&o&&i.Nb(0,"label",5),2&o){var t=i.cc(2);i.Db("",t.getClass()," control-label"),i.jc("innerHtml",t.labelInput(),i.wc)}}function l(o,e){if(1&o&&i.Ec(0,c,1,4,"label",4),2&o){var t=i.cc();i.jc("ngIf",t.labelInput().length)}}function d(o,e){if(1&o&&(i.Sb(0,"span"),i.Nb(1,"i",8),i.Gc(2),i.Rb()),2&o){var t=i.cc(2);i.Ab(2),i.Ic(" ",t.errorMessage,"")}}function b(o,e){if(1&o&&(i.Sb(0,"label",6),i.Ec(1,d,3,1,"span",7),i.Rb()),2&o){var t=i.cc();i.Ab(1),i.jc("ngIf",t.showTip&&t.hasError())}}var p=["*"],u=function(){function o(){this.showTip=!0}return o.prototype.ngOnInit=function(){},o.prototype.labelInput=function(){return null!=this.label&&this.label},o.prototype.getClass=function(){return null!=this.class&&this.class},o.prototype.ngAfterContentInit=function(){if(this.input=this.model||this.control,void 0===this.input)throw new Error("Esse componente precisa ser usado com uma diretiva ngModel ou FormControlName")},o.prototype.hasSuccess=function(){return this.input.valid&&(this.input.dirty||this.input.touched)},o.prototype.hasError=function(){return this.input.invalid&&(this.input.dirty||this.input.touched)},o.prototype.hasRequired=function(){return this.input.invalid},o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=i.Gb({type:o,selectors:[["app-input-container"]],contentQueries:function(o,e,t){var r;1&o&&(i.zc(t,a.n,!0),i.zc(t,a.e,!0)),2&o&&(i.sc(r=i.ac())&&(e.model=r.first),i.sc(r=i.ac())&&(e.control=r.first))},inputs:{class:"class",label:"label",errorMessage:"errorMessage",showTip:"showTip"},ngContentSelectors:p,decls:6,vars:7,consts:[[1,"form-group","has-feedback"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","control-label control-error","for","inputSuccess",4,"ngIf"],["for","",3,"class","innerHtml",4,"ngIf"],["for","",3,"innerHtml"],["for","inputSuccess",1,"control-label","control-error"],[4,"ngIf"],[1,"fa","fa-remove"]],template:function(o,e){if(1&o&&(i.ic(),i.Sb(0,"div",0),i.Ec(1,s,2,1,"ng-container",1),i.Ec(2,l,1,1,"ng-template",null,2,i.Fc),i.hc(4),i.Ec(5,b,2,1,"label",3),i.Rb()),2&o){var t=i.tc(3);i.Eb("has-success",e.hasSuccess())("has-warning",e.hasError()),i.Ab(1),i.jc("ngIf",e.hasRequired())("ngIfElse",t),i.Ab(4),i.jc("ngIf",e.hasError())}},directives:[r.n],styles:[".control-error[_ngcontent-%COMP%]{margin:1px 0 0!important;position:absolute}.has-feedback[_ngcontent-%COMP%]{margin-top:5px}"]}),o}()},"n/hc":function(o,e,t){"use strict";t.r(e),t.d(e,"DespesaModule",(function(){return Y}));var a=t("PCNd"),i=t("tyNb"),r=t("3Pt+"),n=t("OaAl"),s=t("ghsM"),c=t("/D8a"),l=t("pnVv"),d=t("haUB"),b=t("nWBu"),p=t("fXoL"),u=t("tk/3"),m=function(){function o(o,e,t){this.http=o,this.notificationService=e,this.router=t}return o.prototype.getTipoDespesas=function(o){return this.http.get(b.a+"/tipoDespesa")},o.prototype.gettipoDespesaById=function(o){return this.http.get(b.a+"/tipoDespesa/"+o)},o.prototype.save=function(o){var e=this;return this.http.post(b.a+"/tipoDespesa",o).subscribe((function(o){o.dados&&(e.notify("Registro Inserido Com Sucesso!"),e.router.navigate(["/"])),console.log(o)}),(function(o){e.notify("Error: "+o)}))},o.prototype.update=function(o,e){var t=this;return this.http.put(b.a+"/tipoDespesa/"+e,o).subscribe((function(o){o.response&&(t.notify("Registro Alterado Com Sucesso!"),t.router.navigate(["/"])),console.log(o)}),(function(o){t.notify("Error: "+o)}))},o.prototype.inativar=function(o){return this.http.delete(b.a+"/tipoDespesa/"+o)},o.prototype.notify=function(o){this.notificationService.notifySweet(o)},o.prototype.goTo=function(o){void 0===o&&(o="depoimento"),this.router.navigate(["/"+o])},o.\u0275fac=function(e){return new(e||o)(p.Wb(u.b),p.Wb(n.a),p.Wb(i.c))},o.\u0275prov=p.Ib({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),f=t("N+pB"),g=t("IchE"),v=t("e43+"),h=t("ofXK"),C=t("9odQ"),S=t("tmjD"),R=t("ZOsW");function _(o,e){if(1&o){var t=p.Tb();p.Sb(0,"div",30),p.Sb(1,"app-input-container",56),p.Sb(2,"ng-select",57),p.Zb("change",(function(){return p.vc(t),p.cc(2).cartaoEscolhido()})),p.Rb(),p.Rb(),p.Rb()}if(2&o){var a=p.cc(2);p.Ab(2),p.jc("items",a.cartoes)}}function A(o,e){if(1&o&&(p.Sb(0,"div",0),p.Sb(1,"div",59),p.Sb(2,"h3"),p.Gc(3,"Dados do cart\xe3o"),p.Rb(),p.Rb(),p.Sb(4,"div",60),p.Sb(5,"span",61),p.Gc(6,"Dia vencimento"),p.Rb(),p.Sb(7,"span",62),p.Gc(8),p.Rb(),p.Rb(),p.Sb(9,"div",60),p.Sb(10,"span",61),p.Gc(11,"Fechamento da fatura"),p.Rb(),p.Sb(12,"span",62),p.Gc(13),p.Rb(),p.Rb(),p.Rb()),2&o){var t=p.cc(3);p.Ab(8),p.Ic(" ",null==t.cartaoEscolhidoParaLancamento?null:t.cartaoEscolhidoParaLancamento.dia_vencimento," "),p.Ab(5),p.Ic(" ",null==t.cartaoEscolhidoParaLancamento?null:t.cartaoEscolhidoParaLancamento.dia_fechamento_fatura," ")}}function y(o,e){if(1&o&&(p.Sb(0,"div",58),p.Ec(1,A,14,2,"div",16),p.Rb()),2&o){var t=p.cc(2);p.Ab(1),p.jc("ngIf",null==t.cartaoEscolhidoParaLancamento?null:t.cartaoEscolhidoParaLancamento.dia_vencimento)}}function M(o,e){if(1&o&&(p.Sb(0,"span"),p.Gc(1),p.Rb()),2&o){var t=p.cc(3);p.Ab(1),p.Ic("(Primeiro pagamento ser\xe1 em ",t.vencimento,")")}}function I(o,e){if(1&o&&(p.Sb(0,"small",63),p.Gc(1," Importante para sabermos em qual fatura lan\xe7ar "),p.Nb(2,"br"),p.Ec(3,M,2,1,"span",53),p.Rb()),2&o){var t=p.cc(2);p.Ab(3),p.jc("ngIf",t.vencimento)}}function P(o,e){if(1&o){var t=p.Tb();p.Sb(0,"div",30),p.Sb(1,"button",33),p.Zb("click",(function(){return p.vc(t),p.cc(2).configureDiaVencimento("-")})),p.Nb(2,"i",34),p.Rb(),p.Sb(3,"button",35),p.Zb("click",(function(){return p.vc(t),p.cc(2).configureDiaVencimento("+")})),p.Nb(4,"i",36),p.Rb(),p.Sb(5,"app-input-container",64),p.Nb(6,"input",65),p.Rb(),p.Rb()}}function E(o,e){1&o&&p.Gc(0),2&o&&p.Ic(" ",e.item.pai," ")}function D(o,e){if(1&o&&(p.Nb(0,"i"),p.Gc(1)),2&o){var t=e.item;p.Cb(t.icon),p.Ab(1),p.Ic(" ",t.no_categoria_despesa," ")}}function x(o,e){if(1&o&&(p.Nb(0,"i"),p.Gc(1)),2&o){var t=e.item;p.Cb(t.icon),p.Ab(1),p.Ic(" ",t.no_categoria_despesa," ")}}function G(o,e){if(1&o&&(p.Qb(0),p.Sb(1,"app-input-container",66),p.Nb(2,"ng-select",67),p.Rb(),p.Pb()),2&o){var t=p.cc(2);p.Ab(2),p.jc("items",t.tiposCartao)}}function w(o,e){if(1&o&&(p.Sb(0,"app-input-container",66),p.Nb(1,"ng-select",67),p.Rb()),2&o){var t=p.cc(2);p.Ab(1),p.jc("items",t.tiposConta)}}function j(o,e){1&o&&(p.Sb(0,"div",68),p.Sb(1,"app-input-container",69),p.Nb(2,"input",70),p.Rb(),p.Rb())}function N(o,e){if(1&o&&(p.Sb(0,"div",71),p.Gc(1),p.dc(2,"currency"),p.Rb()),2&o){var t=p.cc(3);p.Ab(1),p.Ic(" Caso queira dividir igual ficar\xe1 ",p.gc(2,1,t.formCartaoCredito.value.vl_despesac/t.formCartaoCredito.get("dividirPessoas").controls.length,"BRL",!0)," para cada ")}}function k(o,e){if(1&o&&(p.Sb(0,"div",0),p.Sb(1,"div",71),p.Gc(2),p.Rb(),p.Sb(3,"div",71),p.Gc(4),p.Rb(),p.Ec(5,N,3,5,"div",72),p.Rb()),2&o){var t=p.cc(2);p.Ab(2),p.Ic(" Valor remanescente: ",t.valorRemanescente," "),p.Ab(2),p.Ic(" Pessoas envolvidas: ",t.formCartaoCredito.get("dividirPessoas").controls.length," "),p.Ab(1),p.jc("ngIf",t.formCartaoCredito.get("dividirPessoas").controls.length>1)}}function F(o,e){if(1&o){var t=p.Tb();p.Sb(0,"div",19),p.Sb(1,"div",76),p.Sb(2,"div",20),p.Nb(3,"img",77),p.Sb(4,"div",78),p.Sb(5,"h5",79),p.Sb(6,"b"),p.Gc(7),p.Rb(),p.Rb(),p.Sb(8,"p"),p.Gc(9),p.Rb(),p.Sb(10,"div",80),p.Sb(11,"label",81),p.Gc(12,"Valor \xe0 pagar"),p.Rb(),p.Sb(13,"input",82),p.Zb("change",(function(){p.vc(t);var o=e.$implicit,a=e.index;return p.cc(3).mudandoValorParaCada(o,a)})),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()}if(2&o){var a=e.$implicit,i=p.cc(3);p.Ab(1),p.jc("formGroup",a),p.Ab(2),p.mc("src","",i.PATHAPI,"/",null==a?null:a.value.img_perfil,"",p.xc),p.Ab(4),p.Hc(a.value.no_pessoa),p.Ab(2),p.Hc(a.value.email),p.Ab(4),p.jc("thousandSeparator",".")("decimalMarker",",")}}function T(o,e){if(1&o&&(p.Qb(0),p.Ec(1,F,14,7,"div",17),p.Sb(2,"div",73),p.Sb(3,"button",74),p.Gc(4," Escolher amigo "),p.Rb(),p.Sb(5,"button",75),p.Gc(6," Pessoa fora do sistema "),p.Rb(),p.Rb(),p.Pb()),2&o){var t=p.cc(2);p.Ab(1),p.jc("ngForOf",t.formCartaoCredito.get("dividirPessoas").controls)}}function O(o,e){if(1&o){var t=p.Tb();p.Qb(0),p.Sb(1,"button",83),p.Zb("click",(function(){p.vc(t);var o=p.cc(2);return o.salvarCartaoCredito(o.formCartaoCredito.value)})),p.Gc(2," Salvar "),p.Rb(),p.Pb()}if(2&o){var a=p.cc(2);p.Ab(1),p.jc("disabled",!a.formCartaoCredito.valid)}}function V(o,e){if(1&o){var t=p.Tb();p.Sb(0,"button",83),p.Zb("click",(function(){p.vc(t);var o=p.cc(2);return o.salvarConta(o.formCartaoCredito.value)})),p.Gc(1," Salvar "),p.Rb()}if(2&o){var a=p.cc(2);p.jc("disabled",!a.formCartaoCredito.valid)}}function B(o,e){if(1&o){var t=p.Tb();p.Sb(0,"form",24),p.Sb(1,"div",0),p.Ec(2,_,3,1,"div",25),p.Ec(3,y,2,1,"div",26),p.Sb(4,"div",27),p.Sb(5,"app-input-container",28),p.Nb(6,"input",29),p.Rb(),p.Rb(),p.Sb(7,"div",30),p.Sb(8,"app-input-container",31),p.Sb(9,"input",32),p.Zb("change",(function(){return p.vc(t),p.cc().setValorRemanescente(0)})),p.Rb(),p.Rb(),p.Rb(),p.Sb(10,"div",30),p.Sb(11,"button",33),p.Zb("click",(function(){return p.vc(t),p.cc().configureDia("-")})),p.Nb(12,"i",34),p.Rb(),p.Sb(13,"button",35),p.Zb("click",(function(){return p.vc(t),p.cc().configureDia("+")})),p.Nb(14,"i",36),p.Rb(),p.Sb(15,"app-input-container",37),p.Sb(16,"input",38),p.Zb("change",(function(){return p.vc(t),p.cc().cartaoEscolhido()})),p.Rb(),p.Rb(),p.Ec(17,I,4,1,"small",39),p.Rb(),p.Ec(18,P,7,0,"div",25),p.Sb(19,"div",40),p.Sb(20,"app-input-container",41),p.Sb(21,"ng-select",42),p.Ec(22,E,1,1,"ng-template",43),p.Ec(23,D,2,4,"ng-template",44),p.Ec(24,x,2,4,"ng-template",45),p.Rb(),p.Rb(),p.Rb(),p.Sb(25,"div",30),p.Ec(26,G,3,1,"ng-container",46),p.Ec(27,w,2,1,"ng-template",null,47,p.Fc),p.Rb(),p.Ec(29,j,3,0,"div",48),p.Rb(),p.Nb(30,"hr"),p.Sb(31,"div",0),p.Sb(32,"div",27),p.Sb(33,"app-input-container",49),p.Sb(34,"div",50),p.Nb(35,"input",51),p.Nb(36,"label",52),p.Rb(),p.Ec(37,k,6,3,"div",16),p.Rb(),p.Sb(38,"div",0),p.Ec(39,T,7,1,"ng-container",53),p.Rb(),p.Rb(),p.Rb(),p.Sb(40,"div",54),p.Ec(41,O,3,1,"ng-container",46),p.Ec(42,V,2,1,"ng-template",null,55,p.Fc),p.Rb(),p.Rb()}if(2&o){var a=p.tc(28),i=p.tc(43),r=p.cc();p.jc("formGroup",r.formCartaoCredito),p.Ab(2),p.jc("ngIf",r.despesaCartaoCredito),p.Ab(1),p.jc("ngIf",r.despesaCartaoCredito),p.Ab(6),p.jc("thousandSeparator",".")("decimalMarker",","),p.Ab(8),p.jc("ngIf",r.despesaCartaoCredito),p.Ab(1),p.jc("ngIf",r.despesaConta),p.Ab(3),p.jc("items",r.categorias),p.Ab(5),p.jc("ngIf",r.despesaCartaoCredito)("ngIfElse",a),p.Ab(3),p.jc("ngIf",2==r.formCartaoCredito.value.id_tipo_despesa),p.Ab(8),p.jc("ngIf",r.formCartaoCredito.value.bo_dividir_amigos),p.Ab(2),p.jc("ngIf",r.formCartaoCredito.value.bo_dividir_amigos),p.Ab(2),p.jc("ngIf",r.despesaCartaoCredito)("ngIfElse",i)}}function L(o,e){if(1&o&&(p.Sb(0,"h3"),p.Gc(1," Resultados "),p.Sb(2,"a",91),p.Gc(3),p.Rb(),p.Rb()),2&o){var t=p.cc(2);p.Ab(3),p.Ic(" ",null==t.pessoas?null:t.pessoas.length," ")}}function q(o,e){if(1&o&&(p.Sb(0,"div"),p.Gc(1),p.Sb(2,"b"),p.Gc(3),p.Rb(),p.Rb()),2&o){var t=p.cc(2);p.Ab(1),p.Ic(" ",t.fimCarregamentoProcurarPessoa,": "),p.Ab(2),p.Hc(t.nomePessoaModel)}}function Z(o,e){if(1&o){var t=p.Tb();p.Sb(0,"div",0),p.Nb(1,"div",84),p.Sb(2,"div",85),p.Sb(3,"input",86),p.Zb("ngModelChange",(function(o){return p.vc(t),p.cc().nomePessoaModel=o})),p.Rb(),p.Sb(4,"div",87),p.Sb(5,"button",88),p.Zb("click",(function(){return p.vc(t),p.cc().procurarPessoa()})),p.Nb(6,"i",89),p.Rb(),p.Rb(),p.Rb(),p.Sb(7,"div",90),p.Ec(8,L,4,1,"h3",53),p.Ec(9,q,4,2,"div",53),p.Rb(),p.Rb()}if(2&o){var a=p.cc();p.Ab(3),p.jc("ngModel",a.nomePessoaModel),p.Ab(5),p.jc("ngIf",null==a.pessoas?null:a.pessoas.length),p.Ab(1),p.jc("ngIf",a.fimCarregamentoProcurarPessoa)}}function H(o,e){if(1&o){var t=p.Tb();p.Sb(0,"div",20),p.Nb(1,"img",93),p.Sb(2,"div",78),p.Sb(3,"h5",79),p.Sb(4,"b"),p.Gc(5),p.Rb(),p.Rb(),p.Sb(6,"p"),p.Gc(7),p.Rb(),p.Sb(8,"button",23),p.Zb("click",(function(){p.vc(t);var o=p.cc().$implicit;return p.cc().dividirComAmigo(o)})),p.Gc(9," Dividir conta com amigo "),p.Rb(),p.Rb(),p.Rb()}if(2&o){var a=p.cc().$implicit,i=p.cc();p.Ab(1),p.mc("src","",i.PATHAPI,"/",null==a?null:a.img_perfil,"",p.xc),p.Ab(4),p.Hc(a.no_pessoa),p.Ab(2),p.Hc(a.email)}}function z(o,e){if(1&o&&(p.Sb(0,"div",19),p.Ec(1,H,10,4,"div",92),p.Rb()),2&o){var t=e.$implicit;p.Ab(1),p.jc("ngIf","a"==t.situacao)}}function U(o,e){if(1&o&&(p.Sb(0,"h3"),p.Gc(1," Resultados "),p.Sb(2,"a",91),p.Gc(3),p.Rb(),p.Rb()),2&o){var t=p.cc(2);p.Ab(3),p.Ic(" ",null==t.pessoas?null:t.pessoas.length," ")}}function $(o,e){if(1&o&&(p.Sb(0,"div"),p.Gc(1),p.Sb(2,"b"),p.Gc(3),p.Rb(),p.Rb()),2&o){var t=p.cc(2);p.Ab(1),p.Ic(" ",t.fimCarregamentoProcurarPessoa,": "),p.Ab(2),p.Hc(t.nomePessoaModel)}}function Q(o,e){if(1&o&&(p.Sb(0,"div",0),p.Sb(1,"div",90),p.Ec(2,U,4,1,"h3",53),p.Ec(3,$,4,2,"div",53),p.Rb(),p.Rb()),2&o){var t=p.cc();p.Ab(2),p.jc("ngIf",null==t.pessoas?null:t.pessoas.length),p.Ab(1),p.jc("ngIf",t.fimCarregamentoProcurarPessoa)}}function J(o,e){if(1&o){var t=p.Tb();p.Sb(0,"div",19),p.Sb(1,"div",20),p.Nb(2,"img",94),p.Sb(3,"div",78),p.Sb(4,"h5",79),p.Sb(5,"b"),p.Gc(6),p.Rb(),p.Rb(),p.Sb(7,"p"),p.Gc(8),p.Rb(),p.Sb(9,"button",23),p.Zb("click",(function(){p.vc(t);var o=e.$implicit;return p.cc().dividirComAmigo(o)})),p.Gc(10," Dividir conta com amigo "),p.Rb(),p.Rb(),p.Rb(),p.Rb()}if(2&o){var a=e.$implicit,i=p.cc();p.Ab(2),p.mc("src","",i.PATHAPI,"/",null==a?null:a.img_perfil,"",p.xc),p.Ab(4),p.Hc(a.no_pessoa),p.Ab(2),p.Hc(a.email)}}var X=function(o){return{"bg-gradient-primary text-white":o}},W=[{path:"",component:function(){function o(o,e,t,a,i,r,n,s,c,l){this.despesaService=o,this.formBuilder=e,this.notificationService=t,this.cartaoCreditoService=a,this.tipoDespesaService=i,this.categoriaDespesaService=r,this.amigosService=n,this.loginService=s,this.helper=c,this.breadcrumbService=l,this.loader=!0,this.usuarioLogado={},this.cartaoEscolhidoParaLancamento={},this.PATHAPI=b.b,this.vencimento="",this.nomePessoaModel="",this.novaPessoaModel="",this.cartoes=[],this.tiposDespesa=[],this.tiposCartao=[],this.tiposConta=[],this.categorias=[],this.amigosForaSistema=[],this.amigos=[],this.amigosFiltrado=[],this.pessoas=[],this.amigosParaDividir=[],this.despesaConta=!1,this.despesaCartaoCredito=!1,this.months=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],this.valorRemanescente=0}return o.prototype.ngOnInit=function(){this.usuarioLogado=this.loginService.getUser(),this.initializeFormEmpty(),this.getCartoes(),this.getTipoDespesas(),this.getCategorias(),this.getAmigos(),this.getAmigosForaSistema(),this.breadCrumb()},o.prototype.breadCrumb=function(o){void 0===o&&(o="Despesas"),this.breadcrumbService.chosenPagina([{no_rotina:o,ds_url:"categoria",active:""},{no_rotina:"Inserir",ds_url:"mudar-texto",active:"active"}])},o.prototype.cartaoEscolhido=function(){var o=this.formCartaoCredito.value.id_cartao_credito,e=this.cartoes.filter((function(e){if(e.id_cartao_credito==o)return e}))[0];this.cartaoEscolhidoParaLancamento=e;var t=this.formCartaoCredito.get("dt_despesa").value.split("/"),a=new Date,i=new Date,r=parseInt(("0"+e.dia_fechamento_fatura).slice(-2));new Date(t[2],t[1]-1,t[0])>=new Date(i.getUTCFullYear(),i.getUTCMonth(),r)&&a.setMonth(a.getMonth()+1);var n=a.getUTCMonth()+1;this.vencimento=this.months[n-1]},o.prototype.getCartoes=function(){var o=this;this.cartaoCreditoService.getCartoes().subscribe((function(e){o.cartoes=e}))},o.prototype.getTipoDespesas=function(){var o=this;this.tipoDespesaService.getTipoDespesas().subscribe((function(e){o.tiposDespesa=e,o.separandoTiposDespesa(o.tiposDespesa)}))},o.prototype.separandoTiposDespesa=function(o){var e=this;o.forEach((function(o){1!=o.id_tipo_despesa&&2!=o.id_tipo_despesa||e.tiposCartao.push(o),1!=o.id_tipo_despesa&&2!=o.id_tipo_despesa||e.tiposConta.push(o)}))},o.prototype.getCategorias=function(){var o=this;this.categoriaDespesaService.getCategoriaDespesasSelect().subscribe((function(e){o.categorias=e}))},o.prototype.procurarPessoa=function(){var o=this;if(!this.nomePessoaModel.length)return this.amigosFiltrado=this.amigos,!1;var e=this.amigos.filter((function(e){if(e.no_pessoa.toUpperCase().indexOf(o.nomePessoaModel.toUpperCase())>-1)return e}));this.amigosFiltrado=e},o.prototype.getAmigosForaSistema=function(){var o=this;this.amigosService.getAmigosForaSistema().subscribe((function(e){o.amigosForaSistema=e}))},o.prototype.getAmigos=function(){var o=this;this.amigosService.getAmigos().subscribe((function(e){o.amigos=e.tudo,o.amigosFiltrado=o.amigos,o.loader=!1}))},o.prototype.configureDia=function(o){var e,t=this.formCartaoCredito.get("dt_despesa").value.split("/"),a=new Date(parseInt(t[2]),parseInt(t[1]),parseInt(t[0]));a.setDate("+"==o?a.getDate()+1:a.getDate()-1),e=("0"+a.getDate()).slice(-2)+"/"+("0"+a.getMonth()).slice(-2)+"/"+a.getFullYear(),this.formCartaoCredito.controls.dt_despesa.setValue(e),this.cartaoEscolhido()},o.prototype.configureDiaVencimento=function(o){var e,t=this.formCartaoCredito.get("dt_vencimento").value.split("/"),a=new Date(parseInt(t[2]),parseInt(t[1]),parseInt(t[0]));a.setDate("+"==o?a.getDate()+1:a.getDate()-1),e=("0"+a.getDate()).slice(-2)+"/"+("0"+a.getMonth()).slice(-2)+"/"+a.getFullYear(),this.formCartaoCredito.controls.dt_vencimento.setValue(e)},o.prototype.getDate=function(){var o=new Date,e=o.getUTCMonth()+1,t=o.getUTCDate(),a=o.getUTCFullYear();return("0"+t).slice(-2)+"/"+("0"+e).slice(-2)+"/"+a},o.prototype.initializeFormEmpty=function(){this.formCartaoCredito=this.formBuilder.group({nomePessoaSearch:this.formBuilder.control(""),vl_despesac:this.formBuilder.control("",[r.q.required]),ds_despesa:this.formBuilder.control("",[r.q.required]),dt_despesa:this.formBuilder.control(this.getDate(),[r.q.required]),bo_dividir_amigos:this.formBuilder.control(!1),id_tipo_despesa:this.formBuilder.control("",[r.q.required]),id_categoria_despesa:this.formBuilder.control("",[r.q.required]),id_cartao_credito:this.formBuilder.control(""),qtd_parcelas:this.formBuilder.control("1"),dt_vencimento:this.formBuilder.control(this.getDate()),dividirPessoas:this.formBuilder.array([this.pessoaItem(this.usuarioLogado.id_pessoa,"VOC\xca","",this.usuarioLogado.img_perfil)])}),this.setValorRemanescente(0)},o.prototype.mudandoValorParaCada=function(o,e){var t=this,a=0;this.formCartaoCredito.controls.dividirPessoas.value.forEach((function(o){a+=parseFloat(o.valor),t.setValorRemanescente(a),t.valorRemanescente<-0&&(a-=parseFloat(o.valor),t.setValorRemanescente(a),t.formCartaoCredito.get("dividirPessoas").at(e).patchValue({valor:t.valorRemanescente}),t.setValorRemanescente(t.formCartaoCredito.get("vl_despesac").value))}))},o.prototype.setValorRemanescente=function(o){var e=this.formCartaoCredito.get("vl_despesac").value;this.valorRemanescente=e-o,console.log(e-o)},o.prototype.pessoaItem=function(o,e,t,a,i){if(void 0===o&&(o=""),void 0===e&&(e=""),void 0===t&&(t=""),void 0===a&&(a=""),void 0===i&&(i="0"),""!=o)return this.formBuilder.group({id_pessoa:this.formBuilder.control(o),no_pessoa:this.formBuilder.control(e),email:this.formBuilder.control(t),valor:this.formBuilder.control(i),img_perfil:this.formBuilder.control(a)})},o.prototype.addPessoas=function(o){var e;this.items=this.formCartaoCredito.get("dividirPessoas"),this.items.push(this.pessoaItem(null!==(e=o.id_pessoa_amigo)&&void 0!==e?e:o.id_pessoa,o.no_pessoa,o.email,o.img_perfil))},o.prototype.cadastrarNovaPessoaForaAmigo=function(){var o=this;this.novaPessoaModel.length&&this.amigosService.salvarAmigosForaSistema(this.novaPessoaModel).subscribe((function(e){o.getAmigosForaSistema(),o.dividirComAmigo(e)}))},o.prototype.salvarCartaoCredito=function(o){var e=this;this.despesaService.salvarCartaoCredito(o).subscribe((function(o){e.notificationService.notifySweet("Salvo com sucesso!"),e.limparCamposAoSalvar()}))},o.prototype.salvarConta=function(o){var e=this;this.despesaService.salvarConta(o).subscribe((function(o){e.notificationService.notifySweet("Salvo com sucesso!"),e.limparCamposAoSalvar()}))},o.prototype.limparCamposAoSalvar=function(){this.formCartaoCredito.controls.nomePessoaSearch.setValue(""),this.formCartaoCredito.controls.vl_despesac.setValue(""),this.formCartaoCredito.controls.ds_despesa.setValue(""),this.formCartaoCredito.controls.bo_dividir_amigos.setValue(!1),this.formCartaoCredito.controls.id_tipo_despesa.setValue(""),this.formCartaoCredito.controls.id_categoria_despesa.setValue(""),this.formCartaoCredito.controls.qtd_parcelas.setValue("1"),this.formCartaoCredito.controls.dt_vencimento.setValue("")},o.prototype.oqueLancar=function(o,e){switch(this.despesaCartaoCredito=!1,this.despesaConta=!1,e){case"dcc":this.despesaCartaoCredito=!0;break;case"dct":this.despesaConta=!0}this.breadCrumb(o)},o.prototype.dividirComAmigo=function(o){console.log(o),this.notificationService.notifySweet("Adicionado"),this.amigosFiltrado.splice(this.amigosFiltrado.indexOf(o),1),this.amigos.splice(this.amigos.indexOf(o),1),this.addPessoas(o)},o.\u0275fac=function(e){return new(e||o)(p.Mb(s.a),p.Mb(r.d),p.Mb(n.a),p.Mb(d.a),p.Mb(m),p.Mb(f.a),p.Mb(g.a),p.Mb(v.a),p.Mb(c.a),p.Mb(l.a))},o.\u0275cmp=p.Gb({type:o,selectors:[["app-despesa"]],decls:46,vars:12,consts:[[1,"row"],[1,"col-md-2","col-hd-1"],[1,"despesa","card","shadow","col-md-8","col-hd-10"],[1,"menu"],[1,"col-md-6","text-center","cartao"],[1,"padding-15","cursor-pointer","card","shadow",3,"ngClass","click"],[1,"col-md-6","text-center","conta"],["novalidate","",3,"formGroup",4,"ngIf"],["id","escolherAmigosDividirModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["class","row",4,"ngIf"],["class","col-md-3","style","padding-bottom: 1.5rem",4,"ngFor","ngForOf"],["id","escolherAmigosForaDividirModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"col-md-3",2,"padding-bottom","1.5rem"],[1,"card-1"],["for",""],["placeholder","",1,"form-control",2,"font-size","1em !important","padding","25px 7px 25px 7px",3,"ngModel","ngModelChange"],[1,"btn","w-100","border",3,"click"],["novalidate","",3,"formGroup"],["class","form-group is-empty col-md-4",4,"ngIf"],["class","form-group is-empty col-md-8",4,"ngIf"],[1,"form-group","is-empty","col-md-12"],["errorMessage","Campo obrigat\xf3rio","label","Despesa"],["formControlName","ds_despesa","placeholder","",1,"form-control"],[1,"form-group","is-empty","col-md-4"],["errorMessage","Campo obrigat\xf3rio","label","Valor"],["formControlName","vl_despesac","placeholder","","mask","separator.2","prefix","R$ ",1,"form-control",3,"thousandSeparator","decimalMarker","change"],[1,"btn","dayMenos",3,"click"],[1,"fa","fa-minus"],[1,"btn","dayMais",3,"click"],[1,"fa","fa-plus"],["errorMessage","Campo obrigat\xf3rio","label","Data da compra"],["formControlName","dt_despesa","placeholder","","mask","dX/M0/0000",1,"form-control","text-center",3,"change"],["style","position: absolute; top: 88px",4,"ngIf"],[1,"form-group","is-empty","col-md-4","selectDespesa"],["errorMessage","Campo obrigat\xf3rio","label","Categoria"],["bindLabel","no_categoria_despesa","bindValue","id_categoria_despesa","groupBy","pai","formControlName","id_categoria_despesa",3,"items"],["ng-optgroup-tmp",""],["ng-label-tmp",""],["ng-option-tmp",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","form-group is-empty col-md-3",4,"ngIf"],["errorMessage","Campo obrigat\xf3rio","label","Dividir com amigo"],[1,"onoffswitch"],["type","checkbox","formControlName","bo_dividir_amigos","id","myonoffswitch2","checked","",1,"onoffswitch-checkbox"],["for","myonoffswitch2",1,"onoffswitch-label"],[4,"ngIf"],[1,"box-footer","col-md-12"],["elseTemplateSalvarConta",""],["errorMessage","Campo obrigat\xf3rio","label","Cart\xe3o de cr\xe9dito"],["bindLabel","no_cartao_credito","bindValue","id_cartao_credito","formControlName","id_cartao_credito",3,"items","change"],[1,"form-group","is-empty","col-md-8"],[1,"col-md-12","padding-0"],[1,"card","margin-top-0"],[2,"font-weight","bold"],[2,"text-align","center","font-size","1.2em"],[2,"position","absolute","top","88px"],["errorMessage","Campo obrigat\xf3rio","label","Data de vencimento"],["formControlName","dt_vencimento","placeholder","","mask","dX/M0/0000",1,"form-control","text-center"],["errorMessage","Campo obrigat\xf3rio","label","Tipo"],["bindLabel","no_tipo_despesa","bindValue","id_tipo_despesa","formControlName","id_tipo_despesa",3,"items"],[1,"form-group","is-empty","col-md-3"],["errorMessage","Campo obrigat\xf3rio","label","Quantas vezes"],["type","number","formControlName","qtd_parcelas","placeholder","",1,"form-control"],[1,"card"],["class","card",4,"ngIf"],[1,"col-md-3","acoesEscolherAmigo"],["data-toggle","modal","data-target","#escolherAmigosDividirModal",1,"btn","btnEscolherAmigo","border","w-100"],["data-toggle","modal","data-target","#escolherAmigosForaDividirModal",1,"btn","btnEscolherAmigo","border","w-100","margin-top-5"],[3,"formGroup"],["alt","Avatar",2,"width","100%","height","100%","/* border-radius","50%",3,"src"],[1,""],[1,"text-center"],[1,"form-group"],["for","formControlRange"],["type","text","formControlName","valor","mask","separator.2","prefix","R$ ","placeholder","","value","",1,"form-control",2,"padding","5px",3,"thousandSeparator","decimalMarker","change"],[1,"btn","btn-primary",3,"disabled","click"],[1,"col-md-3"],[1,"input-group","col-md-6"],["type","text","placeholder","Nome","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","bg-light","border-0","small",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-search","fa-sm"],[1,"col-md-12","margin-top-15"],["href","#",1,"btn","btn-primary","btn-circle","btn-sm"],["class","card-1",4,"ngIf"],["alt","Avatar",2,"width","100%","border-radius","50%",3,"src"],["alt","Avatar",2,"width","100%",3,"src"]],template:function(o,e){1&o&&(p.Sb(0,"div",0),p.Nb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"div",3),p.Sb(4,"div",0),p.Sb(5,"div",4),p.Sb(6,"div",5),p.Zb("click",(function(){return e.oqueLancar("Despesa em cart\xe3o de cr\xe9dito","dcc")})),p.Gc(7," Despesa em cart\xe3o de cr\xe9dito "),p.Rb(),p.Rb(),p.Sb(8,"div",6),p.Sb(9,"div",5),p.Zb("click",(function(){return e.oqueLancar("Despesa em conta","dct")})),p.Gc(10," Despesa em conta "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Ec(11,B,44,15,"form",7),p.Rb(),p.Rb(),p.Sb(12,"div",8),p.Sb(13,"div",9),p.Sb(14,"div",10),p.Sb(15,"div",11),p.Sb(16,"h5",12),p.Gc(17," Escolha amigos para dividir a conta "),p.Rb(),p.Sb(18,"button",13),p.Sb(19,"span",14),p.Gc(20,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(21,"div",15),p.Ec(22,Z,10,3,"div",16),p.Sb(23,"div",0),p.Ec(24,z,2,1,"div",17),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(25,"div",18),p.Sb(26,"div",9),p.Sb(27,"div",10),p.Sb(28,"div",11),p.Sb(29,"h5",12),p.Gc(30," Escolha pessoa fora da sua lista de amigos para dividir a conta "),p.Rb(),p.Sb(31,"button",13),p.Sb(32,"span",14),p.Gc(33,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(34,"div",15),p.Ec(35,Q,4,2,"div",16),p.Sb(36,"div",0),p.Sb(37,"div",19),p.Sb(38,"div",20),p.Sb(39,"div"),p.Sb(40,"label",21),p.Gc(41,"Cadastrar nova pessoa"),p.Rb(),p.Sb(42,"input",22),p.Zb("ngModelChange",(function(o){return e.novaPessoaModel=o})),p.Rb(),p.Sb(43,"button",23),p.Zb("click",(function(){return e.cadastrarNovaPessoaForaAmigo()})),p.Gc(44," Cadastrar e dividir conta com amigo "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Ec(45,J,11,4,"div",17),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&o&&(p.Ab(6),p.jc("ngClass",p.oc(8,X,e.despesaCartaoCredito)),p.Ab(3),p.jc("ngClass",p.oc(10,X,e.despesaConta)),p.Ab(2),p.jc("ngIf",e.despesaCartaoCredito||e.despesaConta),p.Ab(11),p.jc("ngIf",e.formCartaoCredito.value.bo_dividir_amigos),p.Ab(2),p.jc("ngForOf",e.amigosFiltrado),p.Ab(11),p.jc("ngIf",e.formCartaoCredito.value.bo_dividir_amigos),p.Ab(7),p.jc("ngModel",e.novaPessoaModel),p.Ab(3),p.jc("ngForOf",e.amigosForaSistema))},directives:[h.l,h.n,h.m,r.c,r.k,r.n,r.r,r.l,r.f,C.a,r.e,S.a,R.a,R.d,R.e,R.c,r.a,r.o],pipes:[h.d],styles:["input[_ngcontent-%COMP%]{padding:25px;font-size:1.6em}.despesa[_ngcontent-%COMP%]{margin-top:25px;padding:25px}.text-center[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]{padding:15px;margin:15px}.bodyCard[_ngcontent-%COMP%]{margin-top:15px}.removeItem[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#e44c45}.valorAPagar[_ngcontent-%COMP%]{text-align:center;font-size:1.5em}.btnEscolherAmigo[_ngcontent-%COMP%]{height:60px}.classOk[_ngcontent-%COMP%]{border:1px solid #7fff00}.acoesEscolherAmigo[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;align-items:center;align-content:center;align-self:center}.dayMais[_ngcontent-%COMP%]{right:13px}.dayMais[_ngcontent-%COMP%], .dayMenos[_ngcontent-%COMP%]{position:absolute;top:44%;padding:0;margin:0;font-size:1.3em}.dayMenos[_ngcontent-%COMP%]{cursor:pointer;left:13px}"]}),o}()}],Y=function(){function o(){}return o.\u0275mod=p.Kb({type:o}),o.\u0275inj=p.Jb({factory:function(e){return new(e||o)},imports:[[a.a,i.g.forChild(W)]]}),o}()}}]);